services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: false

    AppVerk\GoogleCloudStorageMediaBundle\:
        resource: '../../*'
        exclude: '../../{Entity,Repository,Tests}'

    AppVerk\GoogleCloudStorageMediaBundle\Doctrine\MediaManager:
        arguments:
            $className: '%media.entities.media_class%'

    AppVerk\GoogleCloudStorageMediaBundle\Service\MediaProvider:
        arguments:
            $targetDirectory: '%media.media_web_path%'

    AppVerk\GoogleCloudStorageMediaBundle\Service\MediaValidation:
        arguments: ['%media.max_file_size%', '%media.allowed_mime_types%', '%media.groups%']

    AppVerk\GoogleCloudStorageMediaBundle\Service\Storage:
        arguments: ['%media.gcs.project_id%', '%media.gcs.bucket_id%']

    AppVerk\GoogleCloudStorageMediaBundle\Service\MediaUploader:
        arguments:
            $targetDirectory: '%media.media_root_dir%'

    AppVerk\GoogleCloudStorageMediaBundle\Doctrine\MediaManagerInterface: '@AppVerk\GoogleCloudStorageMediaBundle\Doctrine\MediaManager'

    AppVerk\GoogleCloudStorageMediaBundle\Form\DataTransformer\MediaTransformer:
        arguments:
            $className: '%media.entities.media_class%'
